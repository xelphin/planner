COMPILER = g++
EXE = Planner
FLAGS = -std=c++14 -Wall -Werror -pedantic-errors
G_FLAG = -g

MAIN = main

DATE_ABSTRACT = Date/DateAbstract
DATE = Date/Date
DATE_DEADLINE = Date/DateDeadline
DATE_RANGE = Date/DateRange
ALL_DATE = $(DATE_ABSTRACT).h $(DATE).h $(DATE_DEADLINE).h $(DATE_RANGE).h
ALL_DATE_OBJ = $(DATE_ABSTRACT).o $(DATE).o $(DATE_DEADLINE).o $(DATE_RANGE).o
POINT = Points/Point
EVENT = Points/Event
REMINDER = Points/Reminder
TASK = Points/Task
ALL_POINTS_SHARED_DEPENDENCIES = $(POINT).h $(DATE_ABSTRACT).h $(BANNER).h $(EXCEPTION).h $(UTILTITIES).h
ALL_POINTS = $(POINT).h $(EVENT).h $(REMINDER).h $(TASK).h
ALL_POINTS_OBJ = $(POINT).o $(EVENT).o $(REMINDER).o $(TASK).o
BANNER = Banner/Banner
BANNER_EVENT = Banner/BannerEvent
BANNER_TASK = Banner/BannerTask
BANNER_REMINDER = Banner/BannerReminder
ALL_BANNER_SHARED_DEPENDENCIES = $(BANNER).h $(POINT).h $(DATE_ABSTRACT).h $(EXCEPTION).h
ALL_BANNERS = $(BANNER).h $(BANNER_EVENT).h $(BANNER_TASK).h $(BANNER_REMINDER).h
ALL_BANNER_OBJ = $(BANNER).o $(BANNER_EVENT).o $(BANNER_TASK).o $(BANNER_REMINDER).o
CALENDAR = Calendar/Calendar

EXCEPTION = Exception
UTILTITIES = utilities
TESTS = tests

OBJ_FILES = $(ALL_DATE_OBJ) $(ALL_POINTS_OBJ) $(ALL_BANNER_OBJ) $(CALENDAR).o $(UTILTITIES).o $(TESTS).o $(MAIN).o 


$(EXE): $(OBJ_FILES)
	$(COMPILER) $(G_FLAG) $(FLAGS) $(OBJ_FILES) -o $(EXE)



$(MAIN).o: $(MAIN).cpp  $(ALL_DATE) $(ALL_POINTS) $(ALL_BANNERS) $(CALENDAR).h $(EXCEPTION).h $(UTILTITIES).h $(TESTS).h
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(MAIN).cpp -o $(MAIN).o

$(DATE_ABSTRACT).o: $(DATE_ABSTRACT).cpp $(DATE_ABSTRACT).h $(EXCEPTION).h $(UTILTITIES).h
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(DATE_ABSTRACT).cpp -o $(DATE_ABSTRACT).o

$(DATE).o: $(DATE).cpp $(DATE).h $(DATE_ABSTRACT).h $(EXCEPTION).h $(UTILTITIES).h
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(DATE).cpp -o $(DATE).o

$(DATE_DEADLINE).o: $(DATE_DEADLINE).cpp $(DATE_DEADLINE).h $(DATE_ABSTRACT).h $(EXCEPTION).h $(UTILTITIES).h
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(DATE_DEADLINE).cpp -o $(DATE_DEADLINE).o

$(DATE_RANGE).o: $(DATE_RANGE).cpp $(DATE_RANGE).h $(DATE_ABSTRACT).h $(EXCEPTION).h $(UTILTITIES).h
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(DATE_RANGE).cpp -o $(DATE_RANGE).o

$(POINT).o: $(POINT).cpp $(ALL_POINTS_SHARED_DEPENDENCIES) 
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(POINT).cpp -o $(POINT).o

$(EVENT).o: $(EVENT).cpp $(EVENT).h $(ALL_POINTS_SHARED_DEPENDENCIES) $(DATE_RANGE).h 
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(EVENT).cpp -o $(EVENT).o

$(REMINDER).o: $(REMINDER).cpp $(REMINDER).h $(ALL_POINTS_SHARED_DEPENDENCIES) $(DATE).h 
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(REMINDER).cpp -o $(REMINDER).o

$(TASK).o: $(TASK).cpp $(TASK).h $(ALL_POINTS_SHARED_DEPENDENCIES) $(DATE_DEADLINE).h
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(TASK).cpp -o $(TASK).o

$(BANNER).o: $(BANNER).cpp $(ALL_BANNER_SHARED_DEPENDENCIES)
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(BANNER).cpp -o $(BANNER).o

$(BANNER_EVENT).o: $(BANNER_EVENT).cpp $(ALL_BANNER_SHARED_DEPENDENCIES) $(EVENT).h
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(BANNER_EVENT).cpp -o $(BANNER_EVENT).o

$(BANNER_TASK).o: $(BANNER_TASK).cpp $(ALL_BANNER_SHARED_DEPENDENCIES) $(TASK).h
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(BANNER_TASK).cpp -o $(BANNER_TASK).o

$(BANNER_REMINDER).o: $(BANNER_REMINDER).cpp $(ALL_BANNER_SHARED_DEPENDENCIES) $(REMINDER).h
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(BANNER_REMINDER).cpp -o $(BANNER_REMINDER).o

$(CALENDAR).o: $(CALENDAR).cpp $(CALENDAR).h  $(ALL_DATE) $(ALL_POINTS) $(ALL_BANNERS) $(EXCEPTION).h $(UTILTITIES).h
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(CALENDAR).cpp -o $(CALENDAR).o

$(UTILITIES).o: $(UTILITIES).cpp $(UTILITIES).h  $(EXCEPTION).h
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(UTILITIES).cpp -o $(UTILITIES).o

$(TESTS).o: $(TESTS).cpp $(TESTS).h  $(ALL_DATE) $(ALL_BANNERS) $(ALL_POINTS) $(BANNER).h $(CALENDAR).h $(EXCEPTION).h $(UTILTITIES).h
	$(COMPILER) $(FLAGS) $(G_FLAG) -c $(TESTS).cpp -o $(TESTS).o



clean:
	rm -f $(OBJ_FILES) $(EXE)